<section class="l-entity-panel--header no-border">
  <tabset class="tabset-entity-location">
    <tab select="select(tab)" ng-repeat="tab in tabset">
      <tab-heading class="tabset-entity-heading" ng-class="isSelected(tab)">{{ tab.name }}</tab-heading>
    </tab>
  </tabset>
</section>
<section class="l-entity-panel--body" id="fullscreenModalHook" ng-include="selected.content"></section>
<section class="l-entity-panel--footer" ng-include="selected.operator"></section>


<!--operator start -->
<script type="text/ng-template" id="docOperator">
  <button type="button" class="btn btn-default" ng-click="fullscreenDoc()">全屏</button>
  <button type="button" class="btn btn-default" ng-click="downloadDoc()">下载</button>
</script>

<script type="text/ng-template" id="detailOperator">
  <button type="button" class="btn btn-default" ng-click="editInfo()">修改</button>
</script>

<script type="text/ng-template" id="photoOperator">
</script>
<!--operator end -->


<!--content start -->
<script type="text/ng-template" id="docContent">
  <!-- top 值小 因为全屏上方是有工具栏 -->
  <div style="position: absolute; left: 2px; right: 2px; top: -32px; bottom: 2px; ">
    <iframe ng-src="../assets/widget/mozilla-pdf/web/viewer.html"
            height="100%" width="100%" frameborder="no" ></iframe>
  </div>
</script>

<script type="text/ng-template" id="docContentFullscreen.html">
<div style="position: absolute; top: 0; bottom: 0; width: 100% ; " >
  <iframe ng-src="../assets/widget/mozilla-pdf/web/viewer-fullscreen.html"
          height="100%" width="100%" frameborder="no"></iframe>
</div>
</script>


<script type="text/ng-template" id="photoContent">
  <div class="entity-block-wrap" ng-controller="OverrunEntityPhotoCtrl">
    <!--车辆证件-->
    <div class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-checklist"></i>
        <span>车辆证件</span>
      </header>
      <section class="entity-block--body">
        <div class="entity-photo-hover" ng-repeat="image in vehicleImages"
             ng-click="openLightboxModal(vehicleImages, $index)">
          <img ng-src="{{image.thumbnaildata}}" alt="车辆证件"/>
        </div>
        <!--<div ngf-drop ngf-select ng-model="vehicleFiles" class="entity-upload-photo drop-box"
             ngf-drag-over-class="dragover" ngf-multiple="true" ngf-allow-dir="true"
             ngf-accept="'image/*'"></div>-->
        <div cg-busy="vehicleImagePromise"></div>
      </section>
    </div>

    <!--驾驶员证件-->
    <div class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-checklist"></i>
        <span>驾驶员证件</span>
      </header>
      <section class="entity-block--body no-border">
        <div class="entity-photo-hover" ng-repeat="image in driverImages"
             ng-click="openLightboxModal(driverImages, $index)">
          <img ng-src="{{image.thumbUrl}}" alt="驾驶员证件"/>
        </div>
        <!--<div ngf-drop ng-model="driverFiles" class="entity-upload-photo drop-box"
             ngf-drag-over-class="dragover" ngf-multiple="true" ngf-allow-dir="true"
             ngf-accept="'.jpg,.png,.gif'"></div>-->
      </section>
    </div>
    <!--发票证件-->
    <div class="entity-block no-border">
      <header class="entity-block--header">
        <i class="entity-icon icon-checklist"></i>
        <span>发票证件</span>
      </header>
      <section class="entity-block--body no-border">
        <div class="entity-photo-hover" ng-repeat="image in billImages"
             ng-click="openLightboxModal(billImages, $index)">
          <img ng-src="{{image.thumbUrl}}" alt="发票证件"/>
        </div>
        <!--<div ngf-drop ng-model="billFiles" class="entity-upload-photo drop-box"
             ngf-drag-over-class="dragover" ngf-multiple="true" ngf-allow-dir="true"
             ngf-accept="'.jpg,.png,.gif'"></div>-->
      </section>
    </div>
  </div>
</script>

<script type="text/ng-template" id="detailContent">
  <ul class="entity-navbar">
    <li><a href="javascript:void(0)" ng-click="gotoAnchor('overrun-detail-checklist')">初检单</a></li>
    <li><a href="javascript:void(0)" ng-click="gotoAnchor('overrun-detail-vehicle')">车辆信息</a></li>
    <li><a href="javascript:void(0)" ng-click="gotoAnchor('overrun-detail-driver')">驾驶员信息</a></li>
    <li><a href="javascript:void(0)" ng-click="gotoAnchor('overrun-detail-party')">当事人信息</a></li>
    <li><a href="javascript:void(0)" ng-click="gotoAnchor('overrun-detail-case')">案件信息</a></li>
    <li><a href="javascript:void(0)" ng-click="gotoAnchor('overrun-detail-reChecklist')">复检单</a></li>
  </ul>
  <div class="entity-block-wrap under-navbar">
    <!--初检单-->
    <div id="overrun-detail-checklist" class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-checklist"></i>
        <span>初检单</span>
      </header>
      <section class="entity-block--body">
        <div class="entity-info">单号：{{ item.cjdh }}</div>
        <div class="entity-info">时间：{{ item.cjsj }}</div>
        <div class="entity-info">车牌：{{ item.cp }}</div>
        <div class="entity-info">轴数：{{ item.xccfCl.zs }}</div>
        <div class="entity-info">总重：{{ item.cjzz }}</div>
        <div class="entity-info">超重：{{ item.cjcz }}</div>
        <div class="entity-info">货物名称：{{ item.hwmc }}</div>
        <div class="entity-info">运货起点：{{ item.hyqd }}</div>
        <div class="entity-info">运货目的地：{{ item.hymd }}</div>
      </section>
    </div>
    <!--车辆信息-->
    <div id="overrun-detail-vehicle" class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-vehicle"></i>
        <span>车辆信息</span>
      </header>
      <section class="entity-block--body">
        <div class="entity-info">车头：{{ item.xccfCl.ct }}</div>
        <div class="entity-info">挂车：{{ item.xccfCl.gc }}</div>
        <div class="entity-info">核定载质量：{{ item.xccfCl.hdzzl }}</div>
        <div class="entity-info">整备质量：{{ item.xccfCl.zbzl }}</div>
        <div class="entity-info">车籍地：{{ item.xccfCl.cjd }}</div>
        <div class="entity-info">车辆类型：{{ item.xccfCl.cllx }}</div>
        <div class="entity-info">所有人：{{ item.xccfCl.syr }}</div>
        <div class="entity-info">住址：{{ item.xccfCl.syrzz }}</div>
      </section>
    </div>
    <!--驾驶员信息-->
    <div id="overrun-detail-driver" class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-driver"></i>
        <span>驾驶员信息</span>
      </header>
      <section class="entity-block--body">
        <div class="entity-info">姓名：{{ item.xccfJsy.xm }}</div>
        <div class="entity-info">性别：{{ item.xccfJsy.xb }}</div>
        <div class="entity-info">驾驶证号：{{ item.xccfJsy.jszh }}</div>
        <div class="entity-info">从业资格证：{{ item.xccfJsy.cyzgz }}</div>
        <div class="entity-info">联系电话：{{ item.xccfJsy.lxdh }}</div>
        <div class="entity-info">住址：{{ item.xccfJsy.zz }}</div>
      </section>
    </div>
    <!--当事人信息-->
    <div id="overrun-detail-party" class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-party"></i>
        <span>当事人信息</span>
      </header>
      <section class="entity-block--body">
        <div class="entity-info">当事人：{{ item.xccfDsr.dsr }}</div>
        <div class="entity-info">法人：{{ item.xccfDsr.fr }}</div>
        <div class="entity-info">联系电话：{{ item.xccfDsr.lxdh }}</div>
        <div class="entity-info">营运证：{{ item.xccfDsr.yyz }}</div>
        <div class="entity-info">住址：{{ item.xccfDsr.zz }}</div>
      </section>
    </div>
    <!--案件信息-->
    <div id="overrun-detail-case" class="entity-block">
      <header class="entity-block--header">
        <i class="entity-icon icon-case"></i>
        <span>案件信息</span>
      </header>
      <section class="entity-block--body">
        <div class="entity-info is-clear-both is-highlight">罚款金额：{{ item.fkje }}元</div>
        <div class="entity-info">执法人员（询问人）：{{ item.zfxwr }}</div>
        <div class="entity-info">证号：{{ item.zfxwrzj }}</div>
        <div class="entity-info">执法人员（记录人）：{{ item.zfjlr }}</div>
        <div class="entity-info">证号：{{ item.zfjlrzj }}</div>
        <div class="entity-info">案发时间：{{ item.afsj }}</div>
        <div class="entity-info">案发地点：{{ item.afdd }}</div>
        <div class="entity-info">现场笔录时间：{{ item.xcblsj }}</div>
        <div class="entity-info">现场笔录地点：{{ item.xcbldd }}</div>
        <div class="entity-info">询问笔录时间：{{ item.xwblsj }}</div>
        <div class="entity-info">询问笔录地点：{{ item.xwbldd }}</div>
      </section>
    </div>
    <!--复检单-->
    <div id="overrun-detail-reChecklist" class="entity-block no-border">
      <header class="entity-block--header">
        <i class="entity-icon icon-reChecklist"></i>
        <span>复检单</span>
      </header>
      <section class="entity-block--body no-border">
        <div class="entity-info">单号：{{ item.fjdh }}</div>
        <div class="entity-info">时间：{{ item.fjsj }}</div>
        <div class="entity-info">车牌：{{ item.xccfCl.cp }}</div>
        <div class="entity-info">轴数：{{ item.xccfCl.zs }}</div>
        <div class="entity-info">总重：{{ item.fjzz }}</div>
        <div class="entity-info">超重：{{ item.fjcz }}</div>
      </section>
    </div>
  </div>
</script>
<!--content end -->
